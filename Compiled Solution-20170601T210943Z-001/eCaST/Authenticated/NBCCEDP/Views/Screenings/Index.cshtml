@model IEnumerable<eCaST.ViewModels.ScreeningViewModel>

@{
    ViewBag.Title = "Index";
}

<style type="text/css">
    a.glow, a.glow:hover, a.glow:focus {
        text-decoration: none;
        color: #289916;
        text-shadow: none;
        -webkit-transition: 500ms linear 0s;
        -moz-transition: 500ms linear 0s;
        -o-transition: 500ms linear 0s;
        transition: 500ms linear 0s;
        outline: 0 none;
        -webkit-box-shadow: 0px 0px 15px 5px rgba(50, 205, 50, .75);
        -moz-box-shadow: 0px 0px 15px 5px rgba(50, 205, 50, .75);
        box-shadow: 0px 0px 15px 5px rgba(50, 205, 50, .75);
    }


     a.glowO, a.glowO:hover, a.glowO:focus {
        text-decoration: none;
        color: #FFA500;
        text-shadow: none;
        -webkit-transition: 500ms linear 0s;
        -moz-transition: 500ms linear 0s;
        -o-transition: 500ms linear 0s;
        transition: 500ms linear 0s;
        outline: 0 none;
        -webkit-box-shadow: 0px 0px 15px 5px rgba(255, 165, 0, .75);
        -moz-box-shadow: 0px 0px 15px 5px rgba(255, 165, 0, .75);
        box-shadow: 0px 0px 15px 5px rgba(255, 165, 0, .75);
    }

      a.glowB, a.glowB:hover, a.glowB:focus {
        text-decoration: none;
        color: #2084B0;
        text-shadow: none;
        -webkit-transition: 500ms linear 0s;
        -moz-transition: 500ms linear 0s;
        -o-transition: 500ms linear 0s;
        transition: 500ms linear 0s;
        outline: 0 none;
        -webkit-box-shadow: 0px 0px 15px 5px rgba(0, 191, 255, .75);
        -moz-box-shadow: 0px 0px 15px 5px rgba(0, 191, 255, .75);
        box-shadow: 0px 0px 15px 5px rgba(0, 191, 255, .75);
    }

</style>

@foreach (var item in Model)
{

    if (item.AdminNoticeMessageCount > 0)
    {

        <div class="glow" style="border-radius:5px;padding:6px">

   <a id="ScreeningNavButton_@item.ScreeningID" class="list-group-item glow">

    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;@Html.DisplayFor(modelItem => item.ScreeningID) 

    <span style="background-color:#ccc" class="badge">&nbsp;<span style="font-size:9px;color:#fff;font-style:italic">@Html.FormatValue(item.DateUpdated, "{0:MM/dd/yyyy}")</span>&nbsp;&nbsp;@item.CancerTypeBinName</span>

    @if (item.ProcCount > 0)
    {

        <div style="padding-top:6px" id="ProcContainer_@item.ScreeningID"></div>


    }
    else
    {

        <div style="padding-bottom:2px">
            <div style="background-color:#e1e8e8;border-radius:5px;padding:6px">

                <span>Currently (0) Procedures</span>

                </div>
            </div>


                }


       @if (item.ScreenMessageCount > 0)
       {


           <div id="ScreeningMessageContainer_@item.ScreeningID"></div>

       }




    </a>


         



        </div>



    }
    else if (item.ScreenErrorsMessageCount > 0)
    {

        <div class="glowO" style="border-radius:5px;padding:6px">


            <a id="ScreeningNavButton_@item.ScreeningID" class="list-group-item glowO">

                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;@Html.DisplayFor(modelItem => item.ScreeningID) &nbsp;

                <span style="background-color:#ccc" class="badge">&nbsp;<span style="font-size:9px;color:#fff;font-style:italic">@Html.FormatValue(item.DateUpdated, "{0:MM/dd/yyyy}")</span>&nbsp;&nbsp;@item.CancerTypeBinName</span>


                @if (item.ProcCount > 0)
                {

                    <div style="padding-top:6px" id="ProcContainer_@item.ScreeningID"></div>


                }
                else
                {

                    <div style="padding-bottom:2px">
                        <div style="background-color:#e1e8e8;border-radius:5px;padding:6px">

                            <span>Currently (0) Procedures</span>

                        </div>
                    </div>


                }

                @if (item.ScreenMessageCount > 0)
                {


                    <div style="width:100%" id="ScreeningMessageContainer_@item.ScreeningID" ></div>

                }


            </a>


          



        </div>



    }
    else if (item.PatientNavigationMessageCount > 0)
    {

        <div class="glowB" style="border-radius:5px;padding:6px">

            <a id="ScreeningNavButton_@item.ScreeningID" class="list-group-item glowB">

                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;@Html.DisplayFor(modelItem => item.ScreeningID) &nbsp;

                <span style="background-color:#ccc" class="badge">&nbsp;<span style="font-size:9px;color:#fff;font-style:italic">@Html.FormatValue(item.DateUpdated, "{0:MM/dd/yyyy}")</span>&nbsp;&nbsp;@item.CancerTypeBinName</span>


                @if (item.ProcCount > 0)
                {

                    <div style="padding-top:6px" id="ProcContainer_@item.ScreeningID"></div>


                }
                else
                {

                    <div style="padding-bottom:2px">
                        <div style="background-color:#e1e8e8;border-radius:5px;padding:6px">

                            <span>Currently (0) Procedures</span>

                        </div>
                    </div>


                }

                @if (item.ScreenMessageCount > 0)
                {


                    <div id="ScreeningMessageContainer_@item.ScreeningID"></div>

                }

            </a>


         


        </div>

    }
    else
    {

        <div class="list-group">

            <a id="ScreeningNavButton_@item.ScreeningID" class="list-group-item">

                @if (item.BillingLevel != null)
                {

                    <span style="color:#fff; font-weight:bold; font-size:14px; background-color:#56c23c; padding-top:2px; padding-bottom:2px; padding-left:7px; padding-right:7px; border-radius:5px; border:2px">@item.BillingLevel</span>

                }
                else
                {

                    <span style="color:#fff; font-weight:bold; font-size:14px; background-color:#999; padding-top:2px; padding-bottom:2px; padding-left:7px; padding-right:7px; border-radius:5px; border:2px"><span class="glyphicon glyphicon-ok"></span></span>

                }

               
                 @if (item.BillingPaidBinID == 3)
                {

                    <span style="font-size:16px; color:green" class="glyphicon glyphicon-usd"></span>


                }
                else if (item.BillingPaidBinID == 2)
                {

                    <span style="font-size:16px; color:#ccc" class="glyphicon glyphicon-sort"></span>

                }
                else if (item.BillingPaidBinID == 1)
                {

                    <span style="font-size:16px; color:#ccc" class="glyphicon glyphicon-usd"></span>


                }
                else {

                    <span style="font-size:8px; color:#ccc" class="glyphicon glyphicon-minus"></span><span style="font-size:8px; color:#ccc" class="glyphicon glyphicon-minus"></span>

                }
                
                
                
                @Html.DisplayFor(modelItem => item.ScreeningID) &nbsp;

                <span style="background-color:#ccc" class="badge">&nbsp;<span style="font-size:9px;color:#fff;font-style:italic">@Html.FormatValue(item.DateUpdated, "{0:MM/dd/yyyy}")</span>&nbsp;&nbsp;@item.CancerTypeBinName</span>


                @if (item.ProcCount > 0)
                {

                    <div style="padding-top:6px" id="ProcContainer_@item.ScreeningID"></div>


                }
                else
                {

                    <div style="padding-bottom:2px">
                        <div style="background-color:#e1e8e8;border-radius:5px;padding:6px">

                            <span>Currently (0) Procedures</span>

                        </div>
                    </div>


                }


                @if (item.ScreenMessageCount > 0)
                {


                    <div id="ScreeningMessageContainer_@item.ScreeningID"></div>

                }

            </a>



           




        </div>




    }

 



   
            <script type="text/javascript">



                $('#ScreeningNavButton_@item.ScreeningID').click(function () {


                    $('#ClientSection').load('@Url.Action("Details", "Clients")', { id: @item.ClientID, id2:@item.ScreeningID });


                });



                   $("#ProcContainer_@item.ScreeningID").load("@Url.Action("Index", "ScreenProcedures", new { id = item.ScreeningID })",
                   function (response, status, xhr) {
                       if (status == "error") {

                       }
                   });

              //  $('#ScreeningMessageContainer_@item.ScreeningID').hide();
                  $('#ScreeningMessageContainer_@item.ScreeningID').show();
                  $("#ScreeningMessageContainer_@item.ScreeningID").load("@Url.Action("Index", "Messages", new { id = item.ScreeningID })",
                    function (response, status, xhr) {
                    if (status == "error") {

                    }
                });




                @*if ('@item.ScreenMessageCount' > 0) {

                    $("#ScreeningNavButton_@item.ScreeningID").hover(function () {


                        $('#ScreeningMessageContainer_@item.ScreeningID').show();
                        $("#ScreeningMessageContainer_@item.ScreeningID").load("@Url.Action("Index", "Messages", new { id = item.ScreeningID })",
                         function (response, status, xhr) {
                             if (status == "error") {

                             }
                         });


                    }, function () {


                        $('#ScreeningMessageContainer_@item.ScreeningID').hide();
                        $("#ScreeningMessageContainer_@item.ScreeningID").html("");

                    });

                }*@


            </script>


}







