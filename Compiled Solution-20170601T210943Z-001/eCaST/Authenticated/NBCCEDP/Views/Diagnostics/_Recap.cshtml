@model eCaST.ViewModels.DiagnosticViewModel

@{
    ViewBag.Title = "Final Diagnosis Details";
}


@*@if (ViewBag.FollowupID != null) {*@ 

<div class="btn-group" role="group" aria-label="...">


    @if (ViewBag.DiagScreenProcedureCount > 0)
    {

        if (ViewBag.DiagnosticID == null)
        {

            <button style="background-color:#F5F5F5" id="FinalDiagnosisAddButton" type="button" class="btn btn-default"><i class="fa fa-plus" aria-hidden="true"></i></button>

        }
        else
        {

            <button style="background-color:#F5F5F5;" id="FinalDiagnosisEditButton" type="button" class="btn btn-default"><i class="fa fa-pencil" aria-hidden="true"></i></button>

        }

        <button style="background-color:#F5F5F5;cursor:text" type="button" class="btn btn-default"><i class="fa fa-compass" aria-hidden="true"></i>&nbsp; Final Diagnosis</button>

        if (ViewBag.DiagnosticID != null)
        {


            <button style="cursor:text" type="button" class="btn btn-default">@Model.FinalDxStatusBinName</button>


            if (Model.FinalDxStatusBinID != 2)
            {

                <button style="cursor:text" type="button" class="btn btn-default">@Model.FinalDxBinName on @Html.FormatValue(Model.FinalDiagnosisDate, "{0:MM/dd/yyyy}")</button>

            }



        }

    }
    else
    {

        if (ViewBag.ScreenProcCount > 0)
        {

            if (ViewBag.DiagnosticID == null)
            {

                <button style="background-color:#F5F5F5" id="FinalDiagnosisAddButton" type="button" class="btn btn-default"><i class="fa fa-plus" aria-hidden="true"></i></button>

            }
            else
            {

                <button style="background-color:#F5F5F5;" id="FinalDiagnosisEditButton" type="button" class="btn btn-default"><i class="fa fa-pencil" aria-hidden="true"></i></button>

            }

            <button style="background-color:#F5F5F5;cursor:text" type="button" class="btn btn-default"><i class="fa fa-compass" aria-hidden="true"></i>&nbsp; Final Diagnosis</button>

            if (ViewBag.DiagnosticID != null)
            {


                <button style="cursor:text" type="button" class="btn btn-default">@Model.FinalDxStatusBinName</button>


                if (Model.FinalDxStatusBinID != 2)
                {

                    <button style="cursor:text" type="button" class="btn btn-default">@Model.FinalDxBinName on @Html.FormatValue(Model.FinalDiagnosisDate, "{0:MM/dd/yyyy}")</button>

                }



            }

        }
        else
        {

            <button disabled="disabled" style="background-color:#F5F5F5;opacity:0.5" id="FinalDiagnosisAddButton" type="button" class="btn btn-default"><i class="fa fa-plus" aria-hidden="true"></i></button>
            <button style="background-color:#F5F5F5;cursor:text;opacity:0.5" type="button" class="btn btn-default"><i class="fa fa-compass" aria-hidden="true"></i>&nbsp; Final Diagnosis</button>


        }




    }




</div>


@*}
else
{

    <div class="btn-group" role="group" aria-label="...">

        <button style="background-color:#F5F5F5;" id="FollowupEditButton" type="button" class="btn btn-default"><i class="fa fa-pencil" aria-hidden="true"></i></button>
        <button style="background-color:#F5F5F5;cursor:text" type="button" class="btn btn-default"><i class="fa fa-random" aria-hidden="true"></i>&nbsp; Followup</button>
       

    </div>


}*@


<script type="text/javascript">


    $(function () {


        @*if ('@ViewBag.DiagnosticID' != null) {*@


            $('#FinalDiagnosisEditButton').click(function () {

                $('#AccordionContentContainer').load('@Url.Action("Edit", "Diagnostics", new { id = ViewBag.DiagnosticID, id2 = ViewBag.ScreeningID })');
                $('#AccGlowContainer').addClass("glowdiv");
                // Lock Screen
                $("#txtSearch").attr("disabled", "disabled");
                $('#EditMessageContainer').css("display", "block");
                $('#ScreeningToolbarContainer').css("display", "none");
                $('#FooterMenuBarContainer').css("display", "none");
                $('#ScreenProcedureListContainer').load('@Url.Action("_StaticScreenProcedureList", "ScreenProcedures", new { id = ViewBag.ScreeningID, id2 = ViewBag.CancerTypeBinID })');

                $('#HomeLinkContainer').css("display", "none");
                $('#HomeNoLinkContainer').css("display", "block");

                $("#ClientButton").attr("disabled", "disabled");
                $("#ClientButton").css("opacity", "0.5");

                $("#ScreeningButton").attr("disabled", "disabled");
                $("#ScreeningButton").css("opacity", "0.5");

                $("#EnrollmentEdit0Button").attr("disabled", "disabled");
                $("#EnrollmentEdit0Button").css("opacity", "0.5");

                $("#DiagnosticProcedureEditButton").attr("disabled", "disabled");
                $("#DiagnosticProcedureEditButton").css("opacity", "0.5");

                $("#CaseManagementEditButton").attr("disabled", "disabled");
                $("#CaseManagementEditButton").css("opacity", "0.5");

                $("#FinalDiagnosisEditButton").attr("disabled", "disabled");
                $("#FinalDiagnosisEditButton").css("opacity", "0.5");

                // $("#ProfileButtonDown").attr("disabled", "disabled");
                $('#ProfileButtonDown').css("display", "none");
                $("#ProfileButtonDown").css("opacity", "0.5");

                $("#ClientHistoryButton").attr("disabled", "disabled");
                $("#ClientHistoryButton").css("opacity", "0.5");

                $("#SmallProfileButton").attr("disabled", "disabled");
                $("#SmallProfileButton").css("opacity", "0.5");

                $("#SmallScreeningButton").attr("disabled", "disabled");
                $("#SmallScreeningButton").css("opacity", "0.5");

                $("#SmallEnrollmentButton").attr("disabled", "disabled");
                $("#SmallEnrollmentButton").css("opacity", "0.5");

                $("#SmallLocationButton").attr("disabled", "disabled");
                $("#SmallLocationButton").css("opacity", "0.5");

                $("#ClientEditButton").attr("disabled", "disabled");
                $("#ClientEditButton").css("opacity", "0.5");

                $("#EnrollmentEditButton").attr("disabled", "disabled");
                $("#EnrollmentEditButton").css("opacity", "0.5");

                $("#MedicalHistoryEditButton").attr("disabled", "disabled");
                $("#MedicalHistoryEditButton").css("opacity", "0.5");

            });


        //}
        //else {


            $('#FinalDiagnosisAddButton').click(function () {

                $('#AccordionContentContainer').load('@Url.Action("Create", "Diagnostics", new { id = ViewBag.ScreeningID })');
                $('#AccGlowContainer').addClass("glowdiv");
                // Lock Screen
                $("#txtSearch").attr("disabled", "disabled");
                $('#EditMessageContainer').css("display", "block");
                $('#ScreeningToolbarContainer').css("display", "none");
                $('#FooterMenuBarContainer').css("display", "none");
                $('#ScreenProcedureListContainer').load('@Url.Action("_StaticScreenProcedureList", "ScreenProcedures", new { id = ViewBag.ScreeningID, id2 = ViewBag.CancerTypeBinID })');

                $('#HomeLinkContainer').css("display", "none");
                $('#HomeNoLinkContainer').css("display", "block");

                $("#ClientButton").attr("disabled", "disabled");
                $("#ClientButton").css("opacity", "0.5");

                $("#ScreeningButton").attr("disabled", "disabled");
                $("#ScreeningButton").css("opacity", "0.5");

                $("#EnrollmentEdit0Button").attr("disabled", "disabled");
                $("#EnrollmentEdit0Button").css("opacity", "0.5");

                $("#DiagnosticProcedureEditButton").attr("disabled", "disabled");
                $("#DiagnosticProcedureEditButton").css("opacity", "0.5");

                $("#CaseManagementEditButton").attr("disabled", "disabled");
                $("#CaseManagementEditButton").css("opacity", "0.5");

                $("#FinalDiagnosisEditButton").attr("disabled", "disabled");
                $("#FinalDiagnosisEditButton").css("opacity", "0.5");

                // $("#ProfileButtonDown").attr("disabled", "disabled");
                $('#ProfileButtonDown').css("display", "none");
                $("#ProfileButtonDown").css("opacity", "0.5");

                $("#ClientHistoryButton").attr("disabled", "disabled");
                $("#ClientHistoryButton").css("opacity", "0.5");

                $("#SmallProfileButton").attr("disabled", "disabled");
                $("#SmallProfileButton").css("opacity", "0.5");

                $("#SmallScreeningButton").attr("disabled", "disabled");
                $("#SmallScreeningButton").css("opacity", "0.5");

                $("#SmallEnrollmentButton").attr("disabled", "disabled");
                $("#SmallEnrollmentButton").css("opacity", "0.5");

                $("#SmallLocationButton").attr("disabled", "disabled");
                $("#SmallLocationButton").css("opacity", "0.5");

                $("#ClientEditButton").attr("disabled", "disabled");
                $("#ClientEditButton").css("opacity", "0.5");

                $("#EnrollmentEditButton").attr("disabled", "disabled");
                $("#EnrollmentEditButton").css("opacity", "0.5");

                $("#MedicalHistoryEditButton").attr("disabled", "disabled");
                $("#MedicalHistoryEditButton").css("opacity", "0.5");

            });



            //}


    });


    $(function () {


        if ('@ViewBag.ScreenProcCount' > 0) {


            if ('@ViewBag.ExpiredScreenChecker' == 1) {



                $("#FinalDiagnosisAddButton").attr("disabled", "disabled");
                $("#FinalDiagnosisAddButton").css("opacity", "0.5");

                $("#FinalDiagnosisEditButton").attr("disabled", "disabled");
                $("#FinalDiagnosisEditButton").css("opacity", "0.5");

            }
            else {

                $("#FinalDiagnosisAddButton").removeAttr("disabled", "disabled");
                $("#FinalDiagnosisAddButton").css("opacity", "1.0");

                $("#FinalDiagnosisEditButton").removeAttr("disabled", "disabled");
                $("#FinalDiagnosisEditButton").css("opacity", "1.0");

            }


        }

    });




</script>