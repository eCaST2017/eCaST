@model eCaST.ViewModels.ClientViewModel

@{
    ViewBag.Title = "Add New Client";
}

<style type="text/css">

    .searchOption
    {
    margin: 4px 4px 2px 4px;
    display: inline;
    }

     .form-field * {
      vertical-align: middle;
    }
    .form-field input {
      clear:left;
    }
    .form-field label { 
      width:800px;
      display:inline-block;
    }

    input.big 
    {
        height: 2.1em;
        width: 2.1em;

    }
       
    .error a {
    background-color: #d9ffff !important;
    border: 1px solid #ccc !important;
    width: 100%;
    color: #666 !important;
    }

     .requiredText
    {

    background-color:#d9ffff;
    border:1px solid #999;


    }

    .requiredSelect {
    
    background-color: #d9ffff; 


    }


</style>
<div id="OptionMenuBarContainer"></div>
<div id="ErrorsContainer"></div>

@*@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()*@


@using (Html.BeginForm("_CreateClientF", "Clients", FormMethod.Post, new { id = "PatientInfoForm" }))
    {

        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)

    
    <div class="row">

        <div class="col-md-12">
           
           
            <div style="background-color:#00A34A;border-radius:5px;padding:10px"><h4 style="color:#fff"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add New Client</h4></div>
            <br />
            </div>

        </div>

         
            <div id="DemographicsContainer"></div>
          
    
    
            <div id="EnrollmentContainer"></div>
  

            <div id="PhoneFormContainer"></div>
            <div id="LocationFormContainer"></div>

    <div style="background-color:#00A34A;border-radius:5px;padding:10px">

        <div class="row">

            <div style="padding-top:10px" class="col-md-12">

                <div style="float:left"><input class="big" type="checkbox" id="AdditionalScreening"></div>
                <h4 style="color:#fff">&nbsp;&nbsp;Add screening information</h4>

            </div>


        </div>

    </div>

    <br />


    <div style="display:none" id="AdditionalContainer">


        <div id="CycleContainer"></div>


        <div id="ScreeningContainer"></div>



    </div>


                    <div>


                        <div style="padding-top:2px; padding-bottom:50px; padding-left:22px;" align="right">
                            <button id="DashboardReturnButton" class="btn btn-default" type="button"><span class="glyphicon glyphicon-dashboard"></span>&nbsp;Return to Dashboard</button>&nbsp;
                            <button class="btn btn-success" id="CreateButton" type="submit"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                           
                        </div>

                    </div>


                    @Html.Hidden("Races")
                    @Html.Hidden("DemographicsOnly")
                    @Html.Hidden("Age")
                    @Html.Hidden("ProgramBinID")
                    @Html.Hidden("BPPlusValue")

    }



              
                   


                    <script type="text/javascript">

    $(function () {

        $('#OptionMenuBarContainer').load('@Url.Action("_Search", "Home")');
        $('#DemographicsContainer').load('@Url.Action("_Demographics", "Clients")');
        $('#PhoneFormContainer').load('@Url.Action("_PhoneForm", "Phones")');
        $('#LocationFormContainer').load('@Url.Action("_LocationForm", "Locations", new { id = 0, id2 = 0 })');


                        });


                        $(function () {

        $('#CycleContainer').load('@Url.Action("_CycleContainer", "Screenings")');
        $('#EnrollmentContainer').load('@Url.Action("Create", "Enrollments")');
        $(".ui-helper-hidden-accessible").css("display", "none");

    });



    $(function () {

        $('#FooterMenuBarContainer').load('@Url.Action("_FooterMenuBar", "Home")');
        $('#SearchContainer').css("display", "none");


        $("input[type=checkbox]").bootstrapSwitch({

            onText: 'NOW',
            offText: 'LATER',
            offColor: 'default',
            onColor: 'success'


        });






        $('#AdditionalScreening').on('switchChange.bootstrapSwitch', function () {

            if ($("#AdditionalScreening").is(':checked')) {



                $('#AdditionalContainer').css('display', 'block');

            }
            else {


                $('#AdditionalContainer').css('display', 'none');


            }


        });






    });


    @*$(function () {



        $('#DashboardReturnButton').click(function () {

            // $('#ClientSection').load('@Url.Action("_Dashboard", "Home")');

            $('#FooterMenuBarContainer').html("");

            $('#SearchContainer').css("display", "block");

        });


    });*@


                    </script>


                    <script type="text/javascript">


                        $('#DashboardReturnButton').click(function () {


                            $('#ClientSection').load('@Url.Action("_Dashboard", "Home")');


                            $('#FooterMenuBarContainer').html("");


                        });



                        $(document).ready(function () {


                            $("#CreateButton").click(function (e) {

                                var iStopSub = 0;
                                var sErr = "Please correct the following issues:\n\n";


                                var iLastName = $("#LastName").val();
                                if (iLastName == "") {

                                    iStopSub = 1;
                                    sErr += "You must enter a Last Name" + "\n";

                                }
                                var iCurDate = new Date();
                                var iCurDOBDate = $("#DOB").val();
                                iDOBDateLen = iCurDOBDate.length;
                                if (iDOBDateLen < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter a Date of Birth" + "\n";
                                }

                                if (new Date(iCurDOBDate).getTime() > new Date(iCurDate).getTime()) {
                                    iStopSub = 1;
                                    sErr += "You cannot enter a date of birth in the future\n";
                                }

                                // Check for valid date
                                var timestamp = kendo.parseDate(iCurDOBDate, "mm/dd/yyyy");

                                if (timestamp == null) {

                                    iStopSub = 1;
                                    sErr += "Please enter a valid date of birth\n";

                                }

                                var iEthnicityHispanicBinID = $("#EthnicityHispanicBinID option:selected").val();

                                if (iEthnicityHispanicBinID < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter Hispanic Ethnicity information" + "\n";

                                }

                                if ($("#selectedIDsF").val() == "") {
                                    iStopSub = 1;
                                    sErr += "-Please enter at least 1 race.\n";
                                }

                              
                                var x = [];
                                $('#testF :selected').each(function (i, selected) {

                                    x.push($(selected).val());

                                });


                                if ($.inArray('5', x) > -1) {

                                    var iTribe = $("#Tribe").val();
                                    if (iTribe == "") {

                                        iStopSub = 1;
                                        sErr += "You must enter a Tribe" + "\n";

                                    }


                                }

                                if ($.inArray('9', x) > -1) {

                                    var iOther = $("#Other").val();
                                    if (iOther == "") {

                                        iStopSub = 1;
                                        sErr += "You must enter Other race description" + "\n";

                                    }


                                }


                                var iCurEnrollmentDate = $("#EnrollmentDate").val();
                                iEnrollmentDateLen = iCurEnrollmentDate.length;
                                if (iEnrollmentDateLen < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter a Date of Enrollment" + "\n";
                                }

                                if (new Date(iCurEnrollmentDate).getTime() > new Date(iCurDate).getTime()) {
                                    iStopSub = 1;
                                    sErr += "You cannot enter a date of enrollment in the future\n";
                                }

                                // Check for valid date
                                var timestamp = kendo.parseDate(iCurEnrollmentDate, "mm/dd/yyyy");

                                if (timestamp == null) {

                                    iStopSub = 1;
                                    sErr += "Please enter a valid date of enrollment\n";

                                }

                                var iInsuranceBinID = $("#InsuranceBinID option:selected").val();

                                if (iInsuranceBinID < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter Insurance information" + "\n";

                                }

                                var iMedicareBinID = $("#MedicareBinID option:selected").val();

                                if (iMedicareBinID < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter Medicaid information" + "\n";

                                }

                                var iMonthlyIncome = $("#MonthlyIncome").val();
                                if (iMonthlyIncome == "") {

                                    iStopSub = 1;
                                    sErr += "You must enter a Monthly Income" + "\n";

                                }

                                var iNumberLivingOnIncome = $("#NumberLivingOnIncome").val();
                                if (iNumberLivingOnIncome == "") {

                                    iStopSub = 1;
                                    sErr += "You must enter Number Living on Income" + "\n";

                                }

                                
                                if (iNumberLivingOnIncome > 25 || iNumberLivingOnIncome < 1) {

                                    iStopSub = 1;
                                    sErr += "You must enter Number Living on income of less than 26 and more than 0" + "\n";

                                }

                                //if (iNumberLivingOnIncome < "1") {

                                //    iStopSub = 1;
                                //    sErr += "You must enter Number Living on imcome greater than 0" + "\n";

                                //}


                                var iAgeTx = $("#AgeTx").text();
                                
                                if (iAgeTx == 0) {

                                    iStopSub = 1;
                                    sErr += "You must enter a date of birth that allows for age greater than 0" + "\n";

                                }


                                var iStateBinID = $("#StateBinID option:selected").val();

                                if (iStateBinID < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter a State" + "\n";

                                }

                                var iCountyBinID = $("#CountyBinID option:selected").val();

                                if (iCountyBinID < 1) {
                                    iStopSub = 1;
                                    sErr += "You must enter a County" + "\n";

                                }

                                var iZipCode = $("#ZipCode").val();
                                if (iZipCode == "") {

                                    iStopSub = 1;
                                    sErr += "You must enter a Zip Code" + "\n";

                                }


                                if ($("#PhoneBinID").val() == 4 && $("#PhoneNumber").val() != ""  ) {

                                    var iEmergencyName = $("#EmergencyName").val();
                                    if (iEmergencyName == "") {

                                        iStopSub = 1;
                                        sErr += "You must enter an Emergency Name" + "\n";

                                    }

                                }

                                if ($("#PhoneBinID").val() == 4 && $("#EmergencyName").val() != "") {

                                    var iPhoneNumber = $("#PhoneNumber").val();
                                    if (i == "") {

                                        iStopSub = 1;
                                        sErr += "You must enter an Emergency Phone Number" + "\n";

                                    }

                                }
                                
                                iZipCodeLen = iZipCode.length;
                                if (iZipCodeLen != 5) {
                                    iStopSub = 1;
                                    sErr += "Zip Code must be 5 digits" + "\n";
                                }

                                // If Adding Screening Information
                                if ($("#AdditionalScreening").is(':checked')) {

                                    
                                    var outDO = false;
                                    document.getElementById("DemographicsOnly").value = outDO;

                                    if ($("#OfficeVisitDate").val() == "") {
                                        iStopSub = 1;
                                        sErr += "-Please enter and Office Date.\n";
                                    }

                                    var iCurOVDate = $("#OfficeVisitDate").val();
                                    // Check for valid date
                                    var timestamp = kendo.parseDate(iCurOVDate, "mm/dd/yyyy");


                                    if (new Date(iCurOVDate).getTime() > new Date(iCurDate).getTime()) {
                                        iStopSub = 1;
                                        sErr += "You cannot enter an office date in the future\n";
                                    }



                                    if (timestamp == null) {

                                        iStopSub = 1;
                                        sErr += "Please enter a valid Office Visit Date\n";

                                    }

                                    var iSiteID = $("#SiteID option:selected").val();

                                    if (iSiteID < 1) {
                                        iStopSub = 1;
                                        sErr += "You must enter a Site" + "\n";

                                    }

                                    var iScreeningMethodBinID = $("#ScreeningMethodBinID option:selected").val();

                                    if (iScreeningMethodBinID < 1) {
                                        iStopSub = 1;
                                        sErr += "You must enter a Screening Method" + "\n";

                                    }

                                    var iCancerTypeDD = $("#CancerTypeDD option:selected").val();

                                    if (iCancerTypeDD < 1) {
                                        iStopSub = 1;
                                        sErr += "You must enter a Screening Type" + "\n";

                                    }


                                    


                                    // Breast Validaton
                                    if ($("#CancerTypeDD").val() == 1) {


                                        var iPrevMamDD = $("#PrevMamDD option:selected").val();

                                        if (iPrevMamDD < 1) {
                                            iStopSub = 1;
                                            sErr += "You must enter Previous Mammogram information" + "\n";

                                        }

                                      
                                        if (iPrevMamDD == 1) {

                                            var iPrevMamDate = $("#PrevMamDate").val();
                                            iPrevMamDateLen = iPrevMamDate.length;
                                            if (iPrevMamDateLen < 1) {
                                                iStopSub = 1;
                                                sErr += "You must enter a Previous Mam Date" + "\n";
                                            }

                                            if (new Date(iPrevMamDate).getTime() > new Date(iCurDate).getTime()) {
                                                iStopSub = 1;
                                                sErr += "You cannot enter a date of previous mam in the future\n";
                                            }

                                            // Check for valid date
                                            var timestamp = kendo.parseDate(iPrevMamDate, "mm/dd/yyyy");

                                            if (timestamp == null) {

                                                iStopSub = 1;
                                                sErr += "Please enter a valid date of previous mam\n";

                                            }



                                        }

                                        if (iScreeningMethodBinID == 1) {

                                            var iCurrentMamDD = $("#CurrentMamDD option:selected").val();

                                            if (iCurrentMamDD < 1) {
                                                iStopSub = 1;
                                                sErr += "You must enter Current Mammogram information" + "\n";

                                            }


                                            if (iCurrentMamDD == 2) {

                                                var iMamRefDate = $("#MamRefDate").val();
                                                iMamRefDateLen = iMamRefDate.length;
                                                if (iMamRefDateLen < 1) {
                                                    iStopSub = 1;
                                                    sErr += "You must enter a Mam Referral Date" + "\n";
                                                }

                                                if (new Date(iMamRefDate).getTime() > new Date(iCurDate).getTime()) {
                                                    iStopSub = 1;
                                                    sErr += "You cannot enter a date of mam referral in the future\n";
                                                }

                                                // Check for valid date
                                                var timestamp = kendo.parseDate(iMamRefDate, "mm/dd/yyyy");

                                                if (timestamp == null) {

                                                    iStopSub = 1;
                                                    sErr += "Please enter a valid date of mam referral\n";

                                                }



                                            }


                                        }



                                    }
                                    // Cervical Validation
                                    else if ($("#CancerTypeDD").val() == 2) {


                                        var iHysterectomyStatusBinID = $("#HysterectomyStatusBinID option:selected").val();

                                        if (iHysterectomyStatusBinID < 1) {
                                            iStopSub = 1;
                                            sErr += "You must enter Hysterectomy information" + "\n";

                                        }

                                        var iPrevPapDD = $("#PrevPapDD option:selected").val();

                                        if (iPrevPapDD < 1) {
                                            iStopSub = 1;
                                            sErr += "You must enter Previous Pap information" + "\n";

                                        }


                                        if (iPrevPapDD == 1) {

                                            var iPrevPapDate = $("#PrevPapDate").val();
                                            iPrevPapDateLen = iPrevPapDate.length;
                                            if (iPrevPapDateLen < 1) {
                                                iStopSub = 1;
                                                sErr += "You must enter a Previous Pap Date" + "\n";
                                            }

                                            if (new Date(iPrevPapDate).getTime() > new Date(iCurDate).getTime()) {
                                                iStopSub = 1;
                                                sErr += "You cannot enter a date of previous pap in the future\n";
                                            }

                                            // Check for valid date
                                            var timestamp = kendo.parseDate(iPrevPapDate, "mm/dd/yyyy");

                                            if (timestamp == null) {

                                                iStopSub = 1;
                                                sErr += "Please enter a valid date of previous pap\n";

                                            }



                                        }


                                        if (iScreeningMethodBinID == 1) {

                                            var iCurrentPapDD = $("#CurrentPapDD option:selected").val();

                                            if (iCurrentPapDD < 1) {
                                                iStopSub = 1;
                                                sErr += "You must enter Current Pap information" + "\n";

                                            }



                                            if (iCurrentPapDD == 2) {

                                                var iPapRefDate = $("#PapRefDate").val();
                                                iPapRefDateLen = iPapRefDate.length;
                                                if (iPapRefDateLen < 1) {
                                                    iStopSub = 1;
                                                    sErr += "You must enter a Pap Referral Date" + "\n";
                                                }

                                                if (new Date(iPapRefDate).getTime() > new Date(iCurDate).getTime()) {
                                                    iStopSub = 1;
                                                    sErr += "You cannot enter a date of pap referral in the future\n";
                                                }

                                                // Check for valid date
                                                var timestamp = kendo.parseDate(iPapRefDate, "mm/dd/yyyy");

                                                if (timestamp == null) {

                                                    iStopSub = 1;
                                                    sErr += "Please enter a valid date of pap referral\n";

                                                }



                                            }

                                        }

                                    }
                                   // Cardio Validation
                                    else if ($("#CancerTypeDD").val() == 4) {


                                        if ($("#BPPlus").is(':checked')) {
                                           
                                            document.getElementById("BPPlusValue").value = "True";
                                          //  var iCurASSDate = $("#AssessmentDateHIDDEN").val();
                                            var iCurBPDate = $("#BPTestDateHIDDEN").val();
                                           
                                          
                                            iBPDateLen = iCurBPDate.length;
                                            if (iBPDateLen < 1) {
                                                iStopSub = 1;
                                                sErr += "-Please enter an blood pressure reading date.\n";
                                            }

                                            if (new Date(iCurBPDate).getTime() > new Date(iCurDate).getTime()) {
                                                iStopSub = 1;
                                                sErr += "-You cannot add an blood pressure reading date in the future.\n";
                                            }

                                            //Create Screen
                                            var hvH = $("#DDHeightBinIDHIDDEN").val();
                                            document.getElementById("DDHeightBinID").value = hvH;

                                            var hvW = $("#DDWeightBinIDHIDDEN").val();
                                            document.getElementById("DDWeightBinID").value = hvW;

                                            //Add Test Screen
                                            var hvBPDate1 = $("#BPTestDateHIDDEN").val();
                                            document.getElementById("BPDate").value = hvBPDate1;

                                            // Blood Pressure
                                            var hvS1 = $("#SystolicBinID1HIDDEN").val();
                                            document.getElementById("SystolicReading").value = hvS1;

                                            var hvD1 = $("#DiastolicBinID1HIDDEN").val();
                                            document.getElementById("DiastolicReading").value = hvD1;


                                            var hvWA = $("#DDWaistBinIDHIDDEN").val();
                                            document.getElementById("DDWaistBinID").value = hvWA;

                                            var hvHIP = $("#DDHipBinIDHIDDEN").val();
                                            document.getElementById("DDHipBinID").value = hvHIP;

                                            var hvCMD = $("#CholMedYesValueIDHIDDEN").val();
                                            document.getElementById("CholMedYesValueID").value = hvCMD;

                                            var hvHTM = $("#HyperTensionMedYesValueIDHIDDEN").val();
                                            document.getElementById("HyperTensionMedYesValueID").value = hvHTM;

                                            var hvDMV = $("#DiabetesMedYesValueIDHIDDEN").val();
                                            document.getElementById("DiabetesMedYesValueID").value = hvDMV;

                                            var hvFC = $("#FruitValueIDHIDDEN").val();
                                            document.getElementById("FruitValueID").value = hvFC;

                                            var hvVEG = $("#VegValueIDHIDDEN").val();
                                            document.getElementById("VegValueID").value = hvVEG;

                                            var hvMOD = $("#ModerateActivityValueIDHIDDEN").val();
                                            document.getElementById("ModerateActivityValueID").value = hvMOD;

                                            var hvVIG = $("#VigorousActivityValueIDHIDDEN").val();
                                            document.getElementById("VigorousActivityValueID").value = hvVIG;

                                            var hvSEC = $("#SmokingSecondHandValueIDHIDDEN").val();
                                            document.getElementById("SmokingSecondHandValueID").value = hvSEC;

                                            var hvPHY = $("#PhysicalHealthValueIDHIDDEN").val();
                                            document.getElementById("PhysicalHealthValueID").value = hvPHY;

                                            var hvMH = $("#MentalHealthValueIDHIDDEN").val();
                                            document.getElementById("MentalHealthValueID").value = hvMH;

                                            var hvMHPHY = $("#MentalPhysicalHealthValueIDHIDDEN").val();
                                            document.getElementById("MentalPhysicalHealthValueID").value = hvMHPHY;


                                            var iDDHeightBinID = $("#DDHeightBinID").val();

                                            if (iDDHeightBinID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about height.\n";

                                            }

                                            if (iDDHeightBinID < 27 || iDDHeightBinID > 80) {

                                                iStopSub = 1;
                                                sErr += "-The range for height is between 27 and 80 inches.\n";

                                            }


                                            var iDDWeightBinID = $("#DDWeightBinID").val();

                                            if (iDDWeightBinID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about weight.\n";

                                            }

                                            if (iDDWeightBinID < 60 || iDDWeightBinID > 500) {

                                                iStopSub = 1;
                                                sErr += "-The range for weight is between 60 and 500 inches.\n";

                                            }


                                           


                                            var iSysRead = $("#SystolicReading").val();
                                            //alert(iPhysAct);
                                            //if (iPhysAct < 0 && iPhysAct > 30) {
                                            if (iSysRead == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about the Systolic Reading.\n";

                                            }
                                            if (iSysRead > 260) {

                                                iStopSub = 1;
                                                sErr += "-The range for the Systolic Reading is 0 to 260.\n";

                                            }

                                            var iDiaRead = $("#DiastolicReading").val();
                                            //alert(iPhysAct);
                                            //if (iPhysAct < 0 && iPhysAct > 30) {
                                            if (iDiaRead == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about the Diastolic Reading.\n";

                                            }
                                            if (iDiaRead > 200) {

                                                iStopSub = 1;
                                                sErr += "-The range for the Diastolic Reading is 0 to 200.\n";

                                            }


                                       
                                            var checkIfAssessment = function () {

                                                return '@ViewBag.FollowUpFlag' == "0";

                                            };

                                            var checkIfHeightFieldSelected = function () {
                                                return $("#DDHeightBinID").val() > 0 || $("#DDHeightBinID").val() != null;
                                            };

                                            var checkIfWeightFieldSelected = function () {
                                                return $("#DDWeightBinID").val() > 0 || $("#DDWeightBinID").val() != null;
                                            };


                                            var checkIfCholFieldSelected = function () {
                                                return $("#HighCholValueID").val() == 1;
                                            };

                                            var checkIfTCholFieldSelected = function () {
                                                return $("#HighCholValueID").val() != -1;
                                            };

                                            // New
                                            var checkIfCholMedValueFieldSelected = function () {

                                                if ($("#HighCholValueID").val() != -1) {

                                                    if ($("#CholMedValueID").val() == 1) {

                                                        return $("#CholMedYesValueID").val() < 1;

                                                    }


                                                }

                                                // return $("#CholMedValueID").val() != -1;
                                            };

                                            var checkIfHyperTFieldSelected = function () {
                                                return $("#HyperTensionValueID").val() != -1;
                                            };

                                            var checkIfHyperTMedFieldSelected = function () {
                                                return $("#HyperTensionValueID").val() == 1;
                                            };

                                            var checkIfHyperTMeasureFieldSelected = function () {
                                                return $("#HyperTensionMeasureValueID").val() == 1;
                                            };

                                            var checkIfHyperTMedYesFieldSelected = function () {

                                                if ($("#HyperTensionValueID").val() != -1) {

                                                    if ($("#HyperTensionMedValueID").val() == 1) {

                                                        return $("#HyperTensionMedYesValueID").val() < 1;

                                                    }


                                                }


                                            };

                                            var checkIfDiabetesFieldSelected = function () {
                                                return $("#DiabetesValueID").val() != -1;
                                            };
                                            var checkIfDiabetesMedFieldSelected = function () {
                                                return $("#DiabetesValueID").val() == 1;
                                            };
                                            var checkIfDiabetesMedYesFieldSelected = function () {

                                                if ($("#DiabetesValueID").val() != -1) {

                                                    if ($("#DiabetesMedValueID").val() == 1) {

                                                        return $("#DiabetesMedYesValueID").val() < 1;

                                                    }


                                                }


                                            };
                                            var checkIfHeartAttackFieldSelected = function () {
                                                return $("#HeartAttackValueID").val() != -1;
                                            };

                                            var checkIfFishFieldSelected = function () {
                                                return $("#FishValueID").val() != -1;
                                            };

                                            var checkIfWholeGrainsFieldSelected = function () {
                                                return $("#WholeGrainsValueID").val() != -1;
                                            };

                                            var checkIfDrinkFieldSelected = function () {
                                                return $("#DrinkValueID").val() != -1;
                                            };
                                            var checkIfSodiumReducedFieldSelected = function () {
                                                return $("#SodiumReducedValueID").val() != -1;
                                            };
                                            var checkIfSmokingFieldSelected = function () {
                                                return $("#SmokingValueID").val() != -1;
                                            };

                                            $("#PatientInfoForm").validate({

                                                errorClass: "my-error-class",
                                                validClass: "my-valid-class",


                                                rules: {

                                                    DDHeightBinID: {
                                                        required: { depends: checkIfHeightFieldSelected },
                                                        range: [36, 80]

                                                    },

                                                    DDWeightBinID: {
                                                        required: { depends: checkIfWeightFieldSelected },
                                                        range: [60, 500]

                                                    },

                                                    //DDWaistBinID: {
                                                    //    required: { depends: checkIfWaistFieldSelected },
                                                    //    range: [2, 72]

                                                    //},
                                                    //DDHipBinID: {
                                                    //    required: { depends: checkIfHipFieldSelected },
                                                    //    range: [2, 72]

                                                    //},


                                                    //EducationBinID: {
                                                    //    //required: true
                                                    //    required: { depends: checkIfAssessment }

                                                    //},
                                                    //LanguageBinID: {
                                                    //    //required: true
                                                    //    required: { depends: checkIfAssessment }

                                                    //}
                                                    //,


                                                    HighCholValueID: {
                                                        required: { depends: checkIfTCholFieldSelected }

                                                    },
                                                    CholMedValueID: {
                                                        required: { depends: checkIfCholFieldSelected }

                                                    },
                                                    // New
                                                    CholMedYesValueID: {
                                                        required: { depends: checkIfCholMedValueFieldSelected },
                                                        range: [1, 7]

                                                    },

                                                    HyperTensionValueID: {
                                                        required: { depends: checkIfHyperTFieldSelected }

                                                    },
                                                    HyperTensionMedValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    HyperTensionMeasureValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    HyperTensionMedYesValueID: {
                                                        required: { depends: checkIfHyperTMedYesFieldSelected },
                                                        range: [1, 7]

                                                    },
                                                    HyperTensionMeasureYesValueID: {
                                                        required: { depends: checkIfHyperTMeasureFieldSelected }

                                                    },
                                                    HyperTensionShareValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    DiabetesValueID: {
                                                        required: { depends: checkIfDiabetesFieldSelected }

                                                    },
                                                    DiabetesMedValueID: {
                                                        required: { depends: checkIfDiabetesMedFieldSelected }

                                                    },

                                                    DiabetesMedYesValueID: {
                                                        required: { depends: checkIfDiabetesMedYesFieldSelected },
                                                        range: [1, 7]

                                                    },
                                                    HeartAttackValueID: {
                                                        required: { depends: checkIfHeartAttackFieldSelected }

                                                    },
                                                    ////New
                                                    //FruitValueID: {
                                                    //    required: true,
                                                    //    range: [0, 50]

                                                    //},
                                                    //VegValueID: {
                                                    //    required: true,
                                                    //    range: [0, 15]

                                                    //},
                                                    //ModerateActivityValueID: {
                                                    //    required: true,
                                                    //    range: [0, 10080]

                                                    //},
                                                    //VigorousActivityValueID: {
                                                    //    required: true,
                                                    //    range: [0, 10080]

                                                    //},
                                                    //SmokingSecondHandValueID: {
                                                    //    required: true,
                                                    //    range: [0, 24]

                                                    //},
                                                    //PhysicalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    //MentalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    //MentalPhysicalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    // End New
                                                    //FishValueID: {
                                                    //    required: { depends: checkIfFishFieldSelected }

                                                    //},
                                                    //WholeGrainsValueID: {
                                                    //    required: { depends: checkIfWholeGrainsFieldSelected }

                                                    //},
                                                    //DrinkValueID: {
                                                    //    required: { depends: checkIfDrinkFieldSelected }

                                                    //},
                                                    //SodiumReducedValueID: {
                                                    //    required: { depends: checkIfSodiumReducedFieldSelected }

                                                  //  },
                                                    SmokingValueID: {
                                                        required: { depends: checkIfSmokingFieldSelected }

                                                    }
                                                    //SystolicReading: {
                                                    //    required: { depends: checkIfSystolicFieldSelected },
                                                    //    range: [0, 260]

                                                    //},

                                                    //DiastolicReading: {
                                                    //    required: { depends: checkIfDiastolicFieldSelected },
                                                    //    range: [0, 200]

                                                    //}

                                                },
                                                messages: {
                                                    DDHeightBinID: {
                                                        required: "Please enter a value greater than 0 for patient height"

                                                    },
                                                    DDWeightBinID: {
                                                        required: "Please enter a value greater than 0 for patient weight"

                                                    },
                                                    //DDWaistBinID: {
                                                    //    required: "Please enter a value greater than 0 for patient waist"

                                                    //},
                                                    //DDHipBinID: {
                                                    //    required: "Please enter a value greater than 0 for patient hip circumference"

                                                    //},
                                                    //EducationBinID: {
                                                    //    required: "Please enter information about Education"

                                                    //},
                                                    //LanguageBinID: {
                                                    //    required: "Please enter information about Language"

                                                    //}
                                                    //,

                                                    HighCholValueID: {
                                                        required: "Please enter information about cholesterol"

                                                    },
                                                    CholMedValueID: {
                                                        required: "Please enter information about cholesterol medication"

                                                    },
                                                    //New
                                                    CholMedYesValueID: {
                                                        required: "Please enter information about amount of days cholesterol medication taken"

                                                    },
                                                    HyperTensionValueID: {
                                                        required: "Please enter information about hypertension"

                                                    },
                                                    HyperTensionMedValueID: {
                                                        required: "Please enter information about hypertension medication"

                                                    },
                                                    HyperTensionMedYesValueID: {
                                                        required: "Please enter information about hypertension medication"

                                                    },
                                                    HyperTensionMeasureValueID: {
                                                        required: "Please enter information about hypertension measurement"

                                                    },
                                                    HyperTensionMeasureYesValueID: {
                                                        required: "Please enter information about hypertension measurement sources"

                                                    },
                                                    HyperTensionShareValueID: {
                                                        required: "Please enter information about hypertension readings"

                                                    },
                                                    DiabetesValueID: {
                                                        required: "Please enter information about diabetes"

                                                    },
                                                    DiabetesMedValueID: {
                                                        required: "Please enter information about diabetes medication"

                                                    },
                                                    DiabetesMedYesValueID: {
                                                        required: "Please enter information about diabetes medication"

                                                    },
                                                    HeartAttackValueID: {
                                                        required: "Please enter information about heart attacks"

                                                    },
                                                    //New
                                                    //FruitValueID: {
                                                    //    required: "Please enter information about fruit intake"

                                                    //},
                                                    //VegValueID: {
                                                    //    required: "Please enter information about fruit intake"

                                                    //},
                                                    //ModerateActivityValueID: {
                                                    //    required: "Please enter information about amount of moderate activity"

                                                    //},
                                                    //VigorousActivityValueID: {
                                                    //    required: "Please enter information about amount of vigorous activity"

                                                    //},
                                                    //SmokingSecondHandValueID: {
                                                    //    required: "Please enter information about secondhand smoking"

                                                    //},
                                                    //PhysicalHealthValueID: {
                                                    //    required: "Please enter information about physical health"

                                                    //},
                                                    //MentalHealthValueID: {
                                                    //    required: "Please enter information about mental health"

                                                    //},
                                                    //MentalPhysicalHealthValueID: {
                                                    //    required: "Please enter information about mental and physical health"

                                                    //},
                                                    // End New
                                                    //FishValueID: {
                                                    //    required: "Please enter information about fish intake"

                                                    //},
                                                    //WholeGrainsValueID: {
                                                    //    required: "Please enter information about whole grain intake"

                                                    //},
                                                    //DrinkValueID: {
                                                    //    required: "Please enter information about sugary drink intake"

                                                    //},
                                                    //SodiumReducedValueID: {
                                                    //    required: "Please enter information about sodium intake"

                                                    //},
                                                    SmokingValueID: {
                                                     required: "Please enter information about smoking"

                                                    }
                                                    //SystolicReading: {
                                                    //    required: "Please enter information about the systolic reading"

                                                    //},
                                                    //DiastolicReading: {
                                                    //    required: "Please enter information about the diastolic reading"

                                                    //}

                                                }
                                            });


                                            // Remove validation
                                            $('#EducationBinID').each(function () {
                                                $(this).rules('remove');
                                            });

                                            $('#LanguageBinID').each(function () {
                                                $(this).rules('remove');
                                            });


                                            $('#FruitValueID').each(function () {
                                                $(this).rules('remove');
                                            });

                                            $('#VegValueID').each(function () {
                                                $(this).rules('remove');
                                            });

                                            $('#FishValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#WholeGrainsValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#DrinkValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#SodiumReducedValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#ModerateActivityValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#VigorousActivityValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#PhysicalHealthValueID').each(function () {
                                                $(this).rules('remove');
                                            });
                                            $('#MentalHealthValueID').each(function () {
                                                $(this).rules('remove');
                                            });

                                            $('#PhysicalMentalHealthValueID').each(function () {
                                                $(this).rules('remove');
                                            });


                                            // End Remove Validation



                                        }
                                        else {

                                            document.getElementById("BPPlusValue").value = "False";
                                            //Create Screen
                                            var hvH = $("#DDHeightBinIDHIDDEN").val();
                                            document.getElementById("DDHeightBinID").value = hvH;

                                            var hvW = $("#DDWeightBinIDHIDDEN").val();
                                            document.getElementById("DDWeightBinID").value = hvW;

                                            var hvWA = $("#DDWaistBinIDHIDDEN").val();
                                            document.getElementById("DDWaistBinID").value = hvWA;

                                            var hvHIP = $("#DDHipBinIDHIDDEN").val();
                                            document.getElementById("DDHipBinID").value = hvHIP;

                                            var hvCMD = $("#CholMedYesValueIDHIDDEN").val();
                                            document.getElementById("CholMedYesValueID").value = hvCMD;

                                            var hvHTM = $("#HyperTensionMedYesValueIDHIDDEN").val();
                                            document.getElementById("HyperTensionMedYesValueID").value = hvHTM;

                                            var hvDMV = $("#DiabetesMedYesValueIDHIDDEN").val();
                                            document.getElementById("DiabetesMedYesValueID").value = hvDMV;

                                            var hvFC = $("#FruitValueIDHIDDEN").val();
                                            document.getElementById("FruitValueID").value = hvFC;

                                            var hvVEG = $("#VegValueIDHIDDEN").val();
                                            document.getElementById("VegValueID").value = hvVEG;

                                            var hvMOD = $("#ModerateActivityValueIDHIDDEN").val();
                                            document.getElementById("ModerateActivityValueID").value = hvMOD;

                                            var hvVIG = $("#VigorousActivityValueIDHIDDEN").val();
                                            document.getElementById("VigorousActivityValueID").value = hvVIG;

                                            var hvSEC = $("#SmokingSecondHandValueIDHIDDEN").val();
                                            document.getElementById("SmokingSecondHandValueID").value = hvSEC;

                                            var hvPHY = $("#PhysicalHealthValueIDHIDDEN").val();
                                            document.getElementById("PhysicalHealthValueID").value = hvPHY;

                                            var hvMH = $("#MentalHealthValueIDHIDDEN").val();
                                            document.getElementById("MentalHealthValueID").value = hvMH;

                                            var hvMHPHY = $("#MentalPhysicalHealthValueIDHIDDEN").val();
                                            document.getElementById("MentalPhysicalHealthValueID").value = hvMHPHY;

                                         
                                            if ($("#checkboxPHYSICALHEALTHCHECK").is(':checked')) {

                                                if ($("#PhysicalHealthValueIDNS").val().length == 0) {
                                                    iStopSub = 1;
                                                    sErr += "-Please enter a reason for not collecting Physical Activity information.\n";
                                                }

                                            }
                                            else {

                                                var iPhysAct = $("#PhysicalHealthValueID").val();
                                                //alert(iPhysAct);
                                                //if (iPhysAct < 0 && iPhysAct > 30) {
                                                if (iPhysAct == "") {

                                                    iStopSub = 1;
                                                    sErr += "-Please enter information about physical activity.\n";

                                                }
                                                if (iPhysAct > 30) {

                                                    iStopSub = 1;
                                                    sErr += "-The range for Physical Activity is 0 to 30 days.\n";

                                                }

                                            }


                                            if ($("#checkboxMENTALHEALTHCHECK").is(':checked')) {

                                                if ($("#MentalHealthValueIDNS").val().length == 0) {
                                                    iStopSub = 1;
                                                    sErr += "-Please enter a reason for not collecting Mental Activity information.\n";
                                                }

                                            }
                                            else {

                                                var iMentalAct = $("#MentalHealthValueID").val();
                                                //alert(iPhysAct);
                                                //if (iPhysAct < 0 && iPhysAct > 30) {
                                                if (iMentalAct == "") {

                                                    iStopSub = 1;
                                                    sErr += "-Please enter information about mental activity.\n";

                                                }
                                                if (iMentalAct > 30) {

                                                    iStopSub = 1;
                                                    sErr += "-The range for Mental Activity is 0 to 30 days.\n";

                                                }

                                            }

                                            if ($("#checkboxMENTALPHYSICALHEALTHCHECK").is(':checked')) {

                                                if ($("#MentalPhysicalHealthValueIDNS").val().length == 0) {
                                                    iStopSub = 1;
                                                    sErr += "-Please enter a reason for not collecting Mental/Physical Activity information.\n";
                                                }

                                            }
                                            else {

                                                var iMentalPhysAct = $("#MentalPhysicalHealthValueID").val();
                                                //alert(iPhysAct);
                                                //if (iPhysAct < 0 && iPhysAct > 30) {
                                                if (iMentalPhysAct == "") {

                                                    iStopSub = 1;
                                                    sErr += "-Please enter information about mental/physical activity.\n";

                                                }
                                                if (iMentalPhysAct > 30) {

                                                    iStopSub = 1;
                                                    sErr += "-The range for Mental/Physical Activity is 0 to 30 days.\n";

                                                }

                                            }

                                            if ($("#checkboxSMOKINGSECONDHANDCHECK").is(':checked')) {

                                                if ($("#SmokingSecondHandValueIDNS").val().length == 0) {
                                                    iStopSub = 1;
                                                    sErr += "-Please enter select yes if exposure to second hand smoke was less than 1 hour.\n";
                                                }

                                            }
                                            else {

                                                var iSmokingSecondHandAct = $("#SmokingSecondHandValueID").val();
                                                //alert(iPhysAct);
                                                //if (iPhysAct < 0 && iPhysAct > 30) {
                                                if (iSmokingSecondHandAct == "") {

                                                    iStopSub = 1;
                                                    sErr += "-Please enter information about secondhand smoking exposure.\n";

                                                }
                                                if (iSmokingSecondHandAct > 30) {

                                                    iStopSub = 1;
                                                    sErr += "-The range for secondhand smoking is 0 to 24 hours.\n";

                                                }

                                            }


                                            var iFruitValue = $("#FruitValueID").val();
                                            //alert(iPhysAct);
                                            //if (iPhysAct < 0 && iPhysAct > 30) {
                                            if (iFruitValue == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about fruit intake.\n";

                                            }
                                            if (iFruitValue > 50) {

                                                iStopSub = 1;
                                                sErr += "-The range for fruit intake is 0 to 50 cups.\n";

                                            }

                                            var iVegValue = $("#VegValueID").val();
                                            //alert(iPhysAct);
                                            //if (iPhysAct < 0 && iPhysAct > 30) {
                                            if (iVegValue == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about vegetable intake.\n";

                                            }

                                            if (iVegValue > 15) {

                                                iStopSub = 1;
                                                sErr += "-The range for vegetable intake is 0 to 15 cups.\n";

                                            }

                                            var iDDHeightBinID = $("#DDHeightBinID").val();
                                         
                                            if (iDDHeightBinID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about height.\n";

                                            }

                                            if (iDDHeightBinID < 27 || iDDHeightBinID > 80) {

                                                iStopSub = 1;
                                                sErr += "-The range for height is between 27 and 80 inches.\n";

                                            }


                                            var iDDWeightBinID = $("#DDWeightBinID").val();

                                            if (iDDWeightBinID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about weight.\n";

                                            }

                                            if (iDDWeightBinID < 60 || iDDWeightBinID > 500) {

                                                iStopSub = 1;
                                                sErr += "-The range for weight is between 60 and 500 inches.\n";

                                            }

                                            var iModerateActivityValueID = $("#ModerateActivityValueID").val();

                                            if (iModerateActivityValueID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about moderate physical activity.\n";

                                            }

                                            if (iModerateActivityValueID > 10080) {

                                                iStopSub = 1;
                                                sErr += "-The range for moderate physical activity is between 0 and 887 .\n";

                                            }

                                            var iVigorousActivityValueID = $("#VigorousActivityValueID").val();

                                            if (iVigorousActivityValueID == "") {

                                                iStopSub = 1;
                                                sErr += "-Please enter information about vigorous physical activity.\n";

                                            }

                                            if (iVigorousActivityValueID > 10080) {

                                                iStopSub = 1;
                                                sErr += "-The range for vigorous physical activity is between 0 and 887 .\n";

                                            }



                                            var checkIfAssessment = function () {

                                                return '@ViewBag.FollowUpFlag' == "0";

                                            };

                                            var checkIfHeightFieldSelected = function () {
                                                return $("#DDHeightBinID").val() > 0 || $("#DDHeightBinID").val() != null;
                                            };

                                            var checkIfWeightFieldSelected = function () {
                                                return $("#DDWeightBinID").val() > 0 || $("#DDWeightBinID").val() != null;
                                            };


                                            var checkIfCholFieldSelected = function () {
                                                return $("#HighCholValueID").val() == 1;
                                            };

                                            var checkIfTCholFieldSelected = function () {
                                                return $("#HighCholValueID").val() != -1;
                                            };

                                            // New
                                            var checkIfCholMedValueFieldSelected = function () {

                                                if ($("#HighCholValueID").val() != -1) {

                                                    if ($("#CholMedValueID").val() == 1) {

                                                        return $("#CholMedYesValueID").val() < 1;

                                                    }


                                                }

                                                // return $("#CholMedValueID").val() != -1;
                                            };

                                            var checkIfHyperTFieldSelected = function () {
                                                return $("#HyperTensionValueID").val() != -1;
                                            };

                                            var checkIfHyperTMedFieldSelected = function () {
                                                return $("#HyperTensionValueID").val() == 1;
                                            };

                                            var checkIfHyperTMeasureFieldSelected = function () {
                                                return $("#HyperTensionMeasureValueID").val() == 1;
                                            };

                                            var checkIfHyperTMedYesFieldSelected = function () {

                                                if ($("#HyperTensionValueID").val() != -1) {

                                                    if ($("#HyperTensionMedValueID").val() == 1) {

                                                        return $("#HyperTensionMedYesValueID").val() < 1;

                                                    }


                                                }


                                            };

                                            var checkIfDiabetesFieldSelected = function () {
                                                return $("#DiabetesValueID").val() != -1;
                                            };
                                            var checkIfDiabetesMedFieldSelected = function () {
                                                return $("#DiabetesValueID").val() == 1;
                                            };
                                            var checkIfDiabetesMedYesFieldSelected = function () {

                                                if ($("#DiabetesValueID").val() != -1) {

                                                    if ($("#DiabetesMedValueID").val() == 1) {

                                                        return $("#DiabetesMedYesValueID").val() < 1;

                                                    }


                                                }


                                            };
                                            var checkIfHeartAttackFieldSelected = function () {
                                                return $("#HeartAttackValueID").val() != -1;
                                            };

                                            var checkIfFishFieldSelected = function () {
                                                return $("#FishValueID").val() != -1;
                                            };

                                            var checkIfWholeGrainsFieldSelected = function () {
                                                return $("#WholeGrainsValueID").val() != -1;
                                            };

                                            var checkIfDrinkFieldSelected = function () {
                                                return $("#DrinkValueID").val() != -1;
                                            };
                                            var checkIfSodiumReducedFieldSelected = function () {
                                                return $("#SodiumReducedValueID").val() != -1;
                                            };
                                            var checkIfSmokingFieldSelected = function () {
                                                return $("#SmokingValueID").val() != -1;
                                            };

                                            $("#PatientInfoForm").validate({

                                                errorClass: "my-error-class",
                                                validClass: "my-valid-class",


                                                rules: {

                                                    DDHeightBinID: {
                                                        required: { depends: checkIfHeightFieldSelected },
                                                        range: [36, 80]

                                                    },

                                                    DDWeightBinID: {
                                                        required: { depends: checkIfWeightFieldSelected },
                                                        range: [60, 500]

                                                    },

                                                    //DDWaistBinID: {
                                                    //    required: { depends: checkIfWaistFieldSelected },
                                                    //    range: [2, 72]

                                                    //},
                                                    //DDHipBinID: {
                                                    //    required: { depends: checkIfHipFieldSelected },
                                                    //    range: [2, 72]

                                                    //},


                                                    EducationBinID: {
                                                        required: true
                                                      //  required: { depends: checkIfAssessment }

                                                    },
                                                    LanguageBinID: {
                                                        required: true
                                                      //  required: { depends: checkIfAssessment }

                                                    }
                                                    ,


                                                    HighCholValueID: {
                                                        required: { depends: checkIfTCholFieldSelected }

                                                    },
                                                    CholMedValueID: {
                                                        required: { depends: checkIfCholFieldSelected }

                                                    },
                                                    // New
                                                    CholMedYesValueID: {
                                                        required: { depends: checkIfCholMedValueFieldSelected },
                                                        range: [1, 7]

                                                    },

                                                    HyperTensionValueID: {
                                                        required: { depends: checkIfHyperTFieldSelected }

                                                    },
                                                    HyperTensionMedValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    HyperTensionMeasureValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    HyperTensionMedYesValueID: {
                                                        required: { depends: checkIfHyperTMedYesFieldSelected },
                                                        range: [1, 7]

                                                    },
                                                    HyperTensionMeasureYesValueID: {
                                                        required: { depends: checkIfHyperTMeasureFieldSelected }

                                                    },
                                                    HyperTensionShareValueID: {
                                                        required: { depends: checkIfHyperTMedFieldSelected }

                                                    },
                                                    DiabetesValueID: {
                                                        required: { depends: checkIfDiabetesFieldSelected }

                                                    },
                                                    DiabetesMedValueID: {
                                                        required: { depends: checkIfDiabetesMedFieldSelected }

                                                    },

                                                    DiabetesMedYesValueID: {
                                                        required: { depends: checkIfDiabetesMedYesFieldSelected },
                                                        range: [1, 7]

                                                    },
                                                    HeartAttackValueID: {
                                                        required: { depends: checkIfHeartAttackFieldSelected }

                                                    },
                                                    //New
                                                    FruitValueID: {
                                                        required: true,
                                                        range: [0, 50]

                                                    },
                                                    VegValueID: {
                                                        required: true,
                                                        range: [0, 15]

                                                    },
                                                    ModerateActivityValueID: {
                                                        required: true,
                                                        range: [0, 10080]

                                                    },
                                                    VigorousActivityValueID: {
                                                        required: true,
                                                        range: [0, 10080]

                                                    },
                                                    //SmokingSecondHandValueID: {
                                                    //    required: true,
                                                    //    range: [0, 24]

                                                    //},
                                                    //PhysicalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    //MentalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    //MentalPhysicalHealthValueID: {
                                                    //    required: true,
                                                    //    range: [0, 30]

                                                    //},
                                                    // End New
                                                    FishValueID: {
                                                        required: { depends: checkIfFishFieldSelected }

                                                    },
                                                    WholeGrainsValueID: {
                                                        required: { depends: checkIfWholeGrainsFieldSelected }

                                                    },
                                                    DrinkValueID: {
                                                        required: { depends: checkIfDrinkFieldSelected }

                                                    },
                                                    SodiumReducedValueID: {
                                                        required: { depends: checkIfSodiumReducedFieldSelected }

                                                    },
                                                    SmokingValueID: {
                                                        required: { depends: checkIfSmokingFieldSelected }

                                                    }
                                                    //SystolicReading: {
                                                    //    required: { depends: checkIfSystolicFieldSelected },
                                                    //    range: [0, 260]

                                                    //},

                                                    //DiastolicReading: {
                                                    //    required: { depends: checkIfDiastolicFieldSelected },
                                                    //    range: [0, 200]

                                                    //}

                                                },
                                                messages: {
                                                    DDHeightBinID: {
                                                        required: "Please enter a value greater than 0 for patient height"

                                                    },
                                                    DDWeightBinID: {
                                                        required: "Please enter a value greater than 0 for patient weight"

                                                    },
                                                    //DDWaistBinID: {
                                                    //    required: "Please enter a value greater than 0 for patient waist"

                                                    //},
                                                    //DDHipBinID: {
                                                    //    required: "Please enter a value greater than 0 for patient hip circumference"

                                                    //},
                                                    EducationBinID: {
                                                        required: "Please enter information about Education"

                                                    },
                                                    LanguageBinID: {
                                                        required: "Please enter information about Language"

                                                    }
                                                    ,

                                                    HighCholValueID: {
                                                        required: "Please enter information about cholesterol"

                                                    },
                                                    CholMedValueID: {
                                                        required: "Please enter information about cholesterol medication"

                                                    },
                                                    //New
                                                    CholMedYesValueID: {
                                                        required: "Please enter information about amount of days cholesterol medication taken"

                                                    },
                                                    HyperTensionValueID: {
                                                        required: "Please enter information about hypertension"

                                                    },
                                                    HyperTensionMedValueID: {
                                                        required: "Please enter information about hypertension medication"

                                                    },
                                                    HyperTensionMedYesValueID: {
                                                        required: "Please enter information about hypertension medication"

                                                    },
                                                    HyperTensionMeasureValueID: {
                                                        required: "Please enter information about hypertension measurement"

                                                    },
                                                    HyperTensionMeasureYesValueID: {
                                                        required: "Please enter information about hypertension measurement sources"

                                                    },
                                                    HyperTensionShareValueID: {
                                                        required: "Please enter information about hypertension readings"

                                                    },
                                                    DiabetesValueID: {
                                                        required: "Please enter information about diabetes"

                                                    },
                                                    DiabetesMedValueID: {
                                                        required: "Please enter information about diabetes medication"

                                                    },
                                                    DiabetesMedYesValueID: {
                                                        required: "Please enter information about diabetes medication"

                                                    },
                                                    HeartAttackValueID: {
                                                        required: "Please enter information about heart attacks"

                                                    },
                                                    //New
                                                    FruitValueID: {
                                                        required: "Please enter information about fruit intake"

                                                    },
                                                    VegValueID: {
                                                        required: "Please enter information about fruit intake"

                                                    },
                                                    ModerateActivityValueID: {
                                                        required: "Please enter information about amount of moderate activity"

                                                    },
                                                    VigorousActivityValueID: {
                                                        required: "Please enter information about amount of vigorous activity"

                                                    },
                                                    //SmokingSecondHandValueID: {
                                                    //    required: "Please enter information about secondhand smoking"

                                                    //},
                                                    //PhysicalHealthValueID: {
                                                    //    required: "Please enter information about physical health"

                                                    //},
                                                    //MentalHealthValueID: {
                                                    //    required: "Please enter information about mental health"

                                                    //},
                                                    //MentalPhysicalHealthValueID: {
                                                    //    required: "Please enter information about mental and physical health"

                                                    //},
                                                    // End New
                                                    FishValueID: {
                                                        required: "Please enter information about fish intake"

                                                    },
                                                    WholeGrainsValueID: {
                                                        required: "Please enter information about whole grain intake"

                                                    },
                                                    DrinkValueID: {
                                                        required: "Please enter information about sugary drink intake"

                                                    },
                                                    SodiumReducedValueID: {
                                                        required: "Please enter information about sodium intake"

                                                    },
                                                    SmokingValueID: {
                                                        required: "Please enter information about smoking"

                                                    }
                                                    //SystolicReading: {
                                                    //    required: "Please enter information about the systolic reading"

                                                    //},
                                                    //DiastolicReading: {
                                                    //    required: "Please enter information about the diastolic reading"

                                                    //}

                                                }
                                            });

                                            // Add validation
                                            $('#EducationBinID').each(function () {
                                                $(this).rules('add', "required");
                                            });

                                            $('#LanguageBinID').each(function () {
                                                $(this).rules('add', "required");
                                            });

                                            $('#FruitValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });

                                            $('#VegValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });

                                            $('#FishValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#WholeGrainsValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#DrinkValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#SodiumReducedValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#ModerateActivityValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#VigorousActivityValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#PhysicalHealthValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });
                                            $('#MentalHealthValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });

                                            $('#PhysicalMentalHealthValueID').each(function () {
                                                $(this).rules('add', "required");
                                            });


                                        }


                                    }



                                }
                                else {


                                    var outT = true;
                                    document.getElementById("DemographicsOnly").value = outT;

                                }

                                if (iStopSub != 0) {
                                    alert(sErr);
                                    e.preventDefault();

                                }


                             
                                var outA = document.getElementById('AgeTx').innerHTML;
                                document.getElementById("Age").value = outA;



                                //Add Races
                                var outF = document.getElementById('selectedIDsF').value;
                                document.getElementById("Races").value = outF;


                                // Add ProgramID
                                var outP = document.getElementById('ProgramBID').value;
                                document.getElementById("ProgramBinID").value = outP;



                            });
                        });



                         $('#PatientInfoForm').on("submit", function (evt) {
                             evt.preventDefault();
                             if ($('#PatientInfoForm').valid()) {


                                 $("#CreateButton").prop("disabled", true);

                                 $.ajax({
                                     url: $("#PatientInfoForm").attr('action'),
                                     type: $("#PatientInfoForm").attr('method'),
                                     contentType: "application/x-www-form-urlencoded;charset=utf-8",
                                     data: $("#PatientInfoForm").serialize(),
                                     success: function (data) {

                                         var clientid = data.Modified;
                                         var screeningid = data.Modified2;

                                      
                                         $('#ClientSection').load('@Url.Action("Details", "Clients")', { id: clientid, id2: screeningid });

                                        

                                     }
                                 });
                             }

                         });


                       


                    </script>



